using System.Collections
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.EventSystems;

public class CameraDrag : MonoBehaviour
{
    private Transform tr;
    private Vector2 firstTouch;
    public float limitMinY;
    public float limitMaxY;
    public float dragSpeed = 0.5f;
   
}

    void Start()
    {
       tr= GetComponent<Transform>();
    }
    void Update()
    {
        if(EventSystem.current.IsPointerOverGameObject() == false)
        {
            Move();
            
        }


    void Move()
    {
        if(Input.GetMouseButtonDown(0))
        {
            firstTouch = Camera.main.ScreenToWorldPoint(Input.mousePosition);
        }
        if(Input.GetMouseButton(0))
        {
                Vector2 currentTouch = Camera.main.ScreenToWorldPoint(Input.mousePosition);
                
                if(Vector2.Distance(firstTouch, currentTouch)>0.4f)//드래그 범위일때
                {
                        if(firstTouch.y<currentTouch.y)//처음 터치보다 위로 드래그 했을 때
                        {
                                if(tr.position.y > limitMinY)//카메라 드래그 가능 범위일 때
                                        tr.Translate(Vector2.dowb * dragSpeed);//카메라 아래로 이동
                        }
                        else if(firstTouch.y > currentTouch.y)//처음 터치보다 아래로 드래그 했을때
                        {
                            if(tr.position.y < limitMaxY)//카메라 드래그 기능 범위일 떄
                                tr.Translate(Vector2.up * dragSpeed); // 카메라 위로 이동
                        }
                    }
                }
            }
    }
